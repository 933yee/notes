<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Unreal Engine 4 - GPGPU flocking 解析</title>
    <link href="/notes/2024/02/25/ue4-cs-aceyan/"/>
    <url>/notes/2024/02/25/ue4-cs-aceyan/</url>
    
    <content type="html"><![CDATA[<p>source code: <a href="https://github.com/aceyan/UE4_GPGPU_flocking/tree/ComputeShader">https://github.com/aceyan/UE4_GPGPU_flocking/tree/ComputeShader</a></p><h3 id="GPU-Instances"><a href="#GPU-Instances" class="headerlink" title="GPU Instances"></a>GPU Instances</h3><p>這個專案使用 GPU Instances，一次渲染大量 Static Mesh。為了讓每個 instance 有區別，它賦予每個 instance 一個 CustomData，作為分辨的 ID。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">UPROPERTY</span>(EditAnywhere, BlueprintReadWrite, Category = <span class="hljs-string">&quot;Flocking&quot;</span>)<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">UInstancedStaticMeshComponent</span>* InstancedComponent;<br><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; instatnceNum; i++)<br>&#123;<br>FTransform t = <span class="hljs-built_in">FTransform</span>();<br>InstancedComponent-&gt;<span class="hljs-built_in">AddInstance</span>(t);<br>InstancedComponent-&gt;<span class="hljs-built_in">SetCustomDataValue</span>(i, <span class="hljs-number">0</span>, i);<br><span class="hljs-built_in">UE_LOG</span>(LogTemp, Warning, <span class="hljs-built_in">TEXT</span>(<span class="hljs-string">&quot;AddInstance %d&quot;</span>), i);<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="/notes/./images/ue4-cs-aceyan/InstancedComponent.png" alt="Instanced Component"></p><p>然後藉由 PerInstanceCustomData[0]，取得不同的 Instance ID，然後更新它們各自的 Material 的 World Position Offset (相對位置) ，來達到移動的效果。</p><h3 id="GPGPU"><a href="#GPGPU" class="headerlink" title="GPGPU"></a>GPGPU</h3><p>由於運算量龐大，可以藉由 GPGPU (Compute Shader) 來計算。那要怎麼直接把 GPGPU 算出的結果傳給 World Position Offset？</p><p>這裡使用 Render Target (RT) 去除存每個 Instance 的位置、速度，所以每個 Texel 的 RGB 儲存的是 World Position Offset 的 XYZ。因此，遊戲開始的時候，儲存 Position 的 Render Target 會長這樣，五彩繽紛的顏色就代表各種 World Position Offset。</p><p><img src="/notes/./images/ue4-cs-aceyan/PositionRenderTarget.png" alt="Position Render Target"></p><p>藉由這個方法，CPU 叫 GPU 算完可以直接渲染，不用再回傳到 CPU，所以整個邏輯是 GPGPU -&gt; RenderTarget -&gt; Material。</p><p>最後，只要想辦法取出每個 Instance 對應到的 Texel 的顏色，傳到 World Position Offset 就好。</p><p><img src="/notes/./images/ue4-cs-aceyan/UpdateInstancePosition.png" alt="Update Instance Position"></p><p>看起來很複雜，實際上就是根據 ID 算出對應的 Texel 的座標，左上是 (0, 0)，右下是 (1, 1)，再 Sample 出 Texture Object 某 Texel 的顏色。</p>]]></content>
    
    
    <categories>
      
      <category>UE4</category>
      
    </categories>
    
    
    <tags>
      
      <tag>UE4, GPU</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Unreal Engine Notes</title>
    <link href="/notes/2024/02/24/ue-notes/"/>
    <url>/notes/2024/02/24/ue-notes/</url>
    
    <content type="html"><![CDATA[<h3 id="Texture-Object"><a href="#Texture-Object" class="headerlink" title="Texture Object"></a>Texture Object</h3><ul><li>有點像一個單獨的 Texture 的容器，包含很多資料，像是顏色、光澤度、粗糙度</li></ul><h3 id="Texture-Sample"><a href="#Texture-Sample" class="headerlink" title="Texture Sample"></a>Texture Sample</h3><ul><li>把 Texture Object 做 sample，得到某個數據，像是顏色</li><li>要傳入 UVs 和 Tex，這裡的 Tex 就是 Texture Object</li></ul><h3 id="Dynamic-Material-Instances"><a href="#Dynamic-Material-Instances" class="headerlink" title="Dynamic Material Instances"></a>Dynamic Material Instances</h3><ul><li>可以在遊戲中動態改變的 Material</li><li>如何使用<ul><li><a href="https://www.youtube.com/watch?v=uSKzkg0dQpY&ab_channel=UnrealDevHub">UE5 Blueprint Tutorial - How to Create Dynamic Material Instances</a></li><li><a href="https://zhuanlan.zhihu.com/p/377411777">Unreal Engine 4 Materials Tutorial——虚幻4引擎教程——材质</a></li></ul></li></ul><h3 id="Set-Scalar-Parameter-Value"><a href="#Set-Scalar-Parameter-Value" class="headerlink" title="Set Scalar Parameter Value"></a>Set Scalar Parameter Value</h3><ul><li>有三個輸入，Target、Parameter Name 和 Value</li><li>改變 Target 的 Parameter 的值</li></ul>]]></content>
    
    
    <categories>
      
      <category>UE5</category>
      
    </categories>
    
    
    <tags>
      
      <tag>UE5</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GPGPU</title>
    <link href="/notes/2024/02/21/gpgpu/"/>
    <url>/notes/2024/02/21/gpgpu/</url>
    
    <content type="html"><![CDATA[<h1 id="名詞解釋"><a href="#名詞解釋" class="headerlink" title="名詞解釋"></a>名詞解釋</h1><ul><li><p>CUDA (Compute Unified Device Architecture)</p><ul><li>強大的平行計算平台，讓開發者能夠充分利用 NVIDIA GPU 的計算能力(NVIDIA 專用)，進行高效的計算任務處理</li></ul></li><li><p>OpenCL (Open Computing Language)</p><ul><li>用於編寫在多種處理器上運行的程序，包括 CPU、GPU、DSP（數字訊號處理器）和其他類型的處理器，主要用於通用計算，特別是那些可以利用平行計算的任務</li></ul></li></ul><h1 id="從-GPU-到-GPGPU"><a href="#從-GPU-到-GPGPU" class="headerlink" title="從 GPU 到 GPGPU"></a>從 GPU 到 GPGPU</h1><p>CPU 單核心性能的提高受到<strong>功耗</strong>、<strong>存取記憶體速度</strong>、<strong>設計複雜度</strong>等多重瓶頸的限制，而 GPU 僅侷限於處理圖形繪製的計算任務，是極大的資源浪費。</p><p>2006 年，NVIDIA 公布了統一著色器架構(unified shader architecture)，從此 GPU 進入了通用計算時代。 傳統的 GPU 通常採用固定比例的頂點著色器和像素著色器單元，但這種作法會導致單元使用率低下的問題。為解決這一問題，統一著色器架構整合了頂點著色器和像素著色器，這種無差別的著色器設計，使 GPU 成為一個多核心的通用處理器。</p><h1 id="計算模型"><a href="#計算模型" class="headerlink" title="計算模型"></a>計算模型</h1><h3 id="SIMT-Single-Instruction-Multiple-Threads-，單指令多執行緒"><a href="#SIMT-Single-Instruction-Multiple-Threads-，單指令多執行緒" class="headerlink" title="SIMT (Single Instruction Multiple Threads)，單指令多執行緒"></a>SIMT (Single Instruction Multiple Threads)，單指令多執行緒</h3><ul><li>一行指令被多個執行緒同時執行，與 SIMD 平行類似，在 GPGPU 中被稱為 SIMT 計算模型</li><li>ex: 矩陣乘法<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// 從輸入矩陣 A 和 B 中讀取一部份向量 a, b</span><br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; N; i++)&#123;<br>  c += a[i] + b[i];<br>&#125;<br><span class="hljs-comment">// 將 c 寫回結果矩陣 C 的對應位置中</span><br></code></pre></td></tr></table></figure></li><li>CUDA 為 SIMT 計算模型引入 thread grid、thread block、thread，對等地，OpenCL 為 SIMT 計算模型引入 NDRange、work-group、work-item</li></ul><h3 id="裝置端和核心函數"><a href="#裝置端和核心函數" class="headerlink" title="裝置端和核心函數"></a>裝置端和核心函數</h3><p>在 CUDA 和 OpenCL 模型中，會把程式劃分成<strong>主機端 (host)</strong> 和<strong>裝置端 (device)</strong> ，分別在 CPU 和 GPGPU 上執行。 CPU 硬體執行主機端程式，GPGPU 硬體將根據程式設計人員給定的執行緒網格 (上面提到的 thread grid) 組織方式等參數，將裝置端程式進一步分發到執行緒中。每個執行緒執行相同的程式，但是是不同的資料。</p><p>以上面的矩陣乘法為例，主機端程式分成三個步驟：</p><h4 id="資料複製"><a href="#資料複製" class="headerlink" title="資料複製"></a>資料複製</h4><ul><li>CPU 將主記憶體資料複製到 GPGPU。主機端程式會先完成 GPGPU 的待處理資料宣告和前置處理，然後 CPU 呼叫 API 對 GPGPU 進行初始化和控制。<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// 主記憶體的資料</span><br><span class="hljs-type">float</span> A[M * N], B[N * K], C[M * K];<br><span class="hljs-comment">// GPGPU 裝置端全域記憶體</span><br><span class="hljs-type">float</span>* d_A, * d_B, * d_C;<br><br><span class="hljs-type">int</span> size = M * N * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">float</span>);<br><span class="hljs-comment">// CPU 呼叫 API 分配裝置端空間 </span><br>cudaMalloc((<span class="hljs-type">void</span>**)&amp; d_A, size);<br><span class="hljs-comment">// CPU 呼叫 API 控制 CPU 和 GPGPU 之間的通訊</span><br><span class="hljs-comment">// 將資料從主機端記憶體複製到 GPGPU 全域記憶體裡面</span><br>cudaMemcpy(d_A, A, size, cudaMemcpyHostToDevice);<br><br>size = N * K * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">float</span>);<br>cudaMalloc((<span class="hljs-type">void</span>**)&amp; d_B, size);<br>cudaMemcpy(d_B, B, size, cudaMemcpyHostToDevice);<br><br>size = M * K * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">float</span>);<br>cudaMalloc((<span class="hljs-type">void</span>**)&amp; d_C, size);<br></code></pre></td></tr></table></figure></li></ul><h4 id="GPGPU-啟動"><a href="#GPGPU-啟動" class="headerlink" title="GPGPU 啟動"></a>GPGPU 啟動</h4><ul><li>CPU 喚醒 GPGPU 執行緒進行運算，並將執行緒的組織方式和參數傳入 GPGPU 中。<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">unsigned</span> T_size = <span class="hljs-number">16</span>;<br>dim3 <span class="hljs-title function_">gridDim</span><span class="hljs-params">(M / T_size, K / T_size, <span class="hljs-number">1</span>)</span>;<br>dim3 <span class="hljs-title function_">blockDim</span><span class="hljs-params">(T_size, T_size, <span class="hljs-number">1</span>)</span>;<br><br><span class="hljs-comment">/// 喚醒對應的裝置端程式</span><br><span class="hljs-comment">/// 啟動名為 basic_mul 的裝置端函數</span><br>basic_mul &lt;&lt;&lt; gridDim, blockDim &gt;&gt;&gt; (d_A, d_B, d_C);<br><br><span class="hljs-comment">// 因為 CPU 和 GPGPU 是非同步執行，要使用此函數讓他們同步</span><br><span class="hljs-comment">// 不然可能 CPU 還沒等到 GPGPU 算完就繼續跑</span><br>cudaDeviceSynchronize();<br></code></pre></td></tr></table></figure></li></ul><h4 id="資料寫回"><a href="#資料寫回" class="headerlink" title="資料寫回"></a>資料寫回</h4><ul><li>GPGPU 運算完畢，並將結果寫回主機端記憶體中。<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c">size = M * K * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">float</span>);<br><span class="hljs-comment">// 將裝置端記憶體 d_C 傳回 主機端記憶體 C</span><br>cudaMemcpy(C, d_C, size, cudaMemcpyDeviceToHost);<br><br><span class="hljs-comment">// GPGPU 裝置端空間釋放</span><br>cudaFree(d_A);<br>cudaFree(d_B);<br>cudaFree(d_C);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br></code></pre></td></tr></table></figure></li></ul><p>裝置端程式常常由多個函數組成，這些函數被稱為**核心函數 (kernel)**，這些核心函數會被分配到每個 GPGPU 的執行緒中執行。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// __global__ 關鍵字定義了這個函數會作為核心函數在 GPGPU 上跑</span><br>__global__ <span class="hljs-type">void</span> <span class="hljs-title function_">basic_mul</span><span class="hljs-params">(<span class="hljs-type">float</span>* d_A, <span class="hljs-type">float</span>* d_B, <span class="hljs-type">float</span>* d_C)</span>&#123;<br>  <span class="hljs-type">int</span> row = threadIdx.x + blockIdx.x * blockDim.x;<br>  <span class="hljs-type">int</span> col = threadIdx.y + blockIdx.y * blockDim.y;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; N; i++)&#123;<br>    d_C[row * K + col] += d_A[row * N + i] * d_B[col + i * k];<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="執行緒模型"><a href="#執行緒模型" class="headerlink" title="執行緒模型"></a>執行緒模型</h1><h3 id="執行緒組織結構"><a href="#執行緒組織結構" class="headerlink" title="執行緒組織結構"></a>執行緒組織結構</h3><p>上面提到，主機端在啟動核心函數時，利用 &lt;&lt;&lt;&gt;&gt;&gt; 向 GPGPU 傳送兩個參數 gridDim 和 blockDim，這兩個參數構造了 GPGPU 計算所採用的執行緒結構。</p><p>CUDA 和 OpenCL 都採用了層次化的執行緒結構，就是前面說的 thread grid、thread block、thread 和 NDRange、work-group、work-item，一一對應。同一個 Block 內的 Thread 可以互相通訊。</p><p><img src="https://www.researchgate.net/publication/328752788/figure/fig3/AS:689781692432384@1541468179263/CUDA-programming-grid-of-thread-blocks-Source-NVIDIA.png" alt="CUDA 的層次化執行緒結構"></p><h3 id="資料索引"><a href="#資料索引" class="headerlink" title="資料索引"></a>資料索引</h3><p>基於上面的執行緒層次，我們需要知道 Thread 在 Grid 中的具體位置，才能讀取合適的資料執行對應的計算。上面例子的 blockIdx、threadIdx 就是用來決定 Thread 的位置。</p>]]></content>
    
    
    <categories>
      
      <category>GPU</category>
      
    </categories>
    
    
    <tags>
      
      <tag>gpu</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>test-page</title>
    <link href="/notes/2024/02/08/test-page/"/>
    <url>/notes/2024/02/08/test-page/</url>
    
    <content type="html"><![CDATA[<h3 id="TEST"><a href="#TEST" class="headerlink" title="TEST"></a>TEST</h3>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Push React App to Github Pages</title>
    <link href="/notes/2024/02/08/react-github-pages/"/>
    <url>/notes/2024/02/08/react-github-pages/</url>
    
    <content type="html"><![CDATA[<ul><li><p>安裝套件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm install gh-pages --save-dev<br>yarn add -D gh-pages<br></code></pre></td></tr></table></figure></li><li><p>在 package.json 裡面新增</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;homepage&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&#123;url to your website&#125;&quot;</span><br>  <span class="hljs-attr">&quot;scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;predeploy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;npm run build&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;deploy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;gh-pages -d build&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure></li><li><p>要 push 的時候就打以下指令，就可以自動 push 到 branch gh-pages</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm run deploy<br></code></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    <categories>
      
      <category>React</category>
      
    </categories>
    
    
    <tags>
      
      <tag>React</tag>
      
      <tag>Gtihub</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>UE5 Resources</title>
    <link href="/notes/2024/01/31/ue5-resources/"/>
    <url>/notes/2024/01/31/ue5-resources/</url>
    
    <content type="html"><![CDATA[<ol><li><a href="https://zhuanlan.zhihu.com/p/639001043">理解 FrameGraph</a></li><li><a href="https://zhuanlan.zhihu.com/p/637889120">UE5 Render Dependency Graph-实用指南</a></li><li><a href="https://zhuanlan.zhihu.com/p/551981932">剖析虚幻渲染体系（08）- Shader体系（02）</a></li><li><a href="https://www.bilibili.com/video/BV18K411Z7Jg/?spm_id_from=333.337.search-card.all.click&vd_source=cdd130c5068c54677e0ec511d6834ece">[UOD2022]Rendering Dependency Graph解析 | Epic 陈拓</a></li><li><a href="https://zhuanlan.zhihu.com/p/73016473">游戏引擎随笔 0x05：现代图形 API 讲义</a></li><li><a href="https://zhuanlan.zhihu.com/p/438784425">UE4性能分析工具Stats</a></li><li><a href="https://frankorz.com/2021/04/17/compute-shader/index.html">Compute Shader 简介 - 萤火之森</a></li><li><a href="https://michaeljcole.github.io/wiki.unrealengine.com/HLSL_Shaders/">HLSL Shaders</a></li><li><a href="https://github.com/Temaran/UnrealEngineShaderPluginDemo">UnrealEngineShaderPluginDemo</a></li><li><a href="https://zhuanlan.zhihu.com/p/624322431">UE渲染学习(4)ComputeShader</a></li><li><a href="https://www.bilibili.com/read/cv8755619/">Unreal Compute Shader 使用流程笔记</a></li><li><a href="https://zhuanlan.zhihu.com/p/608724638?utm_id=0">UE5中的 Compute Shader使用及详解（二）</a></li><li><a href="https://inlet511.github.io/posts/rdg-05-structured-buffer/#16-%E5%88%9B%E5%BB%BAsrv%E8%A7%86%E5%9B%BE">RDG 05 StructuredBuffer的用法</a></li><li><a href="https://zhuanlan.zhihu.com/p/379638061">UE4 RHICmdList</a></li><li><a href="https://zhuanlan.zhihu.com/p/377411777">Unreal Engine 4 Materials Tutorial——虚幻4引擎教程——材质</a></li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>UE5</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Unreal Engine 5 - Render Dependency Graph (RDG)</title>
    <link href="/notes/2024/01/30/ue5-rdg/"/>
    <url>/notes/2024/01/30/ue5-rdg/</url>
    
    <content type="html"><![CDATA[<h3 id="RDG-是什麼"><a href="#RDG-是什麼" class="headerlink" title="RDG 是什麼"></a>RDG 是什麼</h3><dl><dt><a href="https://docs.unrealengine.com/4.26/en-US/ProgrammingAndScripting/Rendering/RenderDependencyGraph/">官方文件</a>提到</dt><dd>渲染依賴圖（Rendering Dependency Graph，RDG）是一種基於圖形的排程系統，旨在對渲染管線進行整幀優化。</dd></dl><h4 id="基本介紹"><a href="#基本介紹" class="headerlink" title="基本介紹"></a>基本介紹</h4><ul><li><p>RDG 於 Unreal 4.22 引入</p></li><li><p>前身是 Frame Graph ，在 2017 年的 GDC 中由 <a href="https://zh.wikipedia.org/zh-tw/%E5%AF%92%E9%9C%9C%E5%BC%95%E6%93%8E">Frostbite Engine</a> 提出</p></li><li><p>RDG 的概念是不在 GPU 上立即執行通道 (Pass)，而是先收集所有需要渲染的通道，然後按照它們之間的依賴關係順序對圖表進行編譯和執行。過程中，系統會執行各種裁剪和優化操作。</p></li></ul><h4 id="為什麼要用-RDG？"><a href="#為什麼要用-RDG？" class="headerlink" title="為什麼要用 RDG？"></a>為什麼要用 RDG？</h4><ul><li><p>Render pipeline 越來越複雜，導致難以管理且性能不好</p><ul><li>隨著硬體性能日漸提升，各大廠商為了渲染出更出色的畫面效果，render pipeline 也日趨複雜。</li></ul></li></ul><p><img src="/notes/images/ue5-rdg/rendering-systems-overview.png" alt="rendering systems overview" title="Rendering systems overview"></p><ul><li><p>硬體的體系結構以及圖形 API 的優化擴展無法得到充分的利用</p><ul><li><p>現代圖形API (如DirectX 12、Vulkan 和 Metal 2) 與傳統圖形API (如DirectX 11、OpenGL) 的主要區別在於現代圖形 API 將更多的 GPU 管理的責任轉移到應用程式的開發者身上，能夠更有效的利用有限的 GPU 資源，進而提升效能。</p><ul><li><a href="https://zhuanlan.zhihu.com/p/73016473">傳統 API 和現代 API 的介紹</a></li></ul></li><li><p>RDG 與現代圖形 API 的能力相結合，使 RDG 能夠在幕後執行複雜的排程任務：</p><ol><li>執行異步計算通道的自動排程和隔離。</li><li>在幀的不相交間隔期間，使資源之間的別名 (Aliasing) 記憶體保持活躍狀態。</li><li>盡早啟動屏障和佈局轉換，避免管線延遲。</li></ol></li></ul></li></ul><h3 id="RDG-的原理"><a href="#RDG-的原理" class="headerlink" title="RDG 的原理"></a>RDG 的原理</h3><p><img src="/notes/images/ue5-rdg/rdg-in-engine.png" alt="rdg in the game engine" title="RDG in the game engine"></p><p>位於 RHI 和 Render Pass 的中間，RDG 作為 Pass 管理器，在搜集資源描述訊息後，對 Pass 和資源進行分析，並結合硬體特性，以最優的方式執行 Pass，主要有三個階段：</p><ol><li><p>Setup</p><ul><li>蒐集 pass 的訊息(主要是該 Pass 使用到的資源)</li></ul></li><li><p>Compile</p><ul><li>Render Graph 的生成以及分析 (包含 Pass culling、Resources state 的最終生成、Async Compute 優化等等)</li></ul></li><li><p>Execute</p><ul><li>將 Command 提交到 CommandList (包含設置 Barrier、平行優化等)</li></ul></li></ol><p><img src="/notes/images/ue5-rdg/rdg-stages.png" alt="Three stages of RDG" title="Three stages of RDG"></p><h3 id="FRDGBuilder"><a href="#FRDGBuilder" class="headerlink" title="FRDGBuilder"></a>FRDGBuilder</h3><ul><li>RDG 系统的心臟和驅動器，同時也是管家，負責儲存數據、處理狀態轉換、自動管理資源生命週期和屏障 (barrier)、裁剪無效資源，和收集、編譯、執行Pass，提取紋理或緩衝等等功能。</li></ul><h3 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h3><ul><li><a href="https://zhuanlan.zhihu.com/p/554758862">剖析虚幻渲染体系（11）- RDG</a></li><li><a href="https://docs.unrealengine.com/4.26/en-US/ProgrammingAndScripting/Rendering/RenderDependencyGraph/">Rendering Dependency Graph</a></li><li><a href="https://zhuanlan.zhihu.com/p/637889120">UE5 Render Dependency Graph-实用指南</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>UE5</category>
      
      <category>Render</category>
      
    </categories>
    
    
    <tags>
      
      <tag>UE5</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Flutter GPS background</title>
    <link href="/notes/2024/01/25/flutter-gps/"/>
    <url>/notes/2024/01/25/flutter-gps/</url>
    
    <content type="html"><![CDATA[<blockquote><p>官方文件: <a href="https://pub.dev/packages/background_locator_2/example">https://pub.dev/packages/background_locator_2/example</a><br>Github: <a href="https://github.com/Yukams/background_locator_fixed">https://github.com/Yukams/background_locator_fixed</a></p></blockquote><h3 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h3><p>這個 package 的目的是讓 app 可以順利定位，取得定位的相關訊息 (經緯度、方向、速度等)，最重要的是它也支援<strong>背景運行</strong>，也就是當你 kill 這個 app (在 app switcher 裡 swipe up app)，這個 app 依然在背景中運行，並顯示在手機的 notification drawer 裡來提醒使用者。</p><p><img src="/notes/images/flutter-gps/notification.png" alt="Notification"></p><p>由於 <code>location_permissions</code> 似乎不再更新了，所以在測試的時候都會有問題，無法正確 import package，所以後來我改用 <code>permission_handler</code>，除了詢問 location 的權限，同時也可以要求 notification 的權限。</p><h3 id="程式碼"><a href="#程式碼" class="headerlink" title="程式碼"></a>程式碼</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;dart:async&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;dart:isolate&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;dart:ui&#x27;</span>;<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:background_locator_2/background_locator.dart&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:background_locator_2/location_dto.dart&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:background_locator_2/settings/android_settings.dart&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:background_locator_2/settings/ios_settings.dart&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:background_locator_2/settings/locator_settings.dart&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:permission_handler/permission_handler.dart&#x27;</span>;<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;file_manager.dart&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;location_callback_handler.dart&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;location_service_repository.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() =&gt; runApp(MyApp());<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>&#123;<br>  <span class="hljs-meta">@override</span><br>  _MyAppState createState() =&gt; _MyAppState();<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_MyAppState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">MyApp</span>&gt; </span>&#123;<br>  ReceivePort port = ReceivePort();<br><br>  <span class="hljs-built_in">String</span> logStr = <span class="hljs-string">&#x27;&#x27;</span>;<br>  <span class="hljs-built_in">bool</span> isRunning = <span class="hljs-keyword">false</span>;<br><br>  <span class="hljs-meta">@override</span><br>  <span class="hljs-keyword">void</span> initState() &#123;<br>    <span class="hljs-keyword">super</span>.initState();<br><br>    <span class="hljs-keyword">if</span> (IsolateNameServer.lookupPortByName(LocationServiceRepository.isolateName) != <span class="hljs-keyword">null</span>)<br>    &#123;<br>          IsolateNameServer.removePortNameMapping(<br>          LocationServiceRepository.isolateName);<br>    &#125;<br><br>    IsolateNameServer.registerPortWithName(port.sendPort, LocationServiceRepository.isolateName);<br><br>    port.listen((<span class="hljs-built_in">dynamic</span> data) <span class="hljs-keyword">async</span> &#123;<br>        <span class="hljs-keyword">await</span> updateUI(data);<br>      &#125;,<br>    );<br>    initPlatformState();<br>  &#125;<br><br>  <span class="hljs-meta">@override</span><br>  <span class="hljs-keyword">void</span> dispose() &#123;<br>    <span class="hljs-keyword">super</span>.dispose();<br>  &#125;<br><br>  Future&lt;<span class="hljs-keyword">void</span>&gt; updateUI(<span class="hljs-built_in">dynamic</span> data) <span class="hljs-keyword">async</span> &#123;<br>    <span class="hljs-keyword">final</span> log = <span class="hljs-keyword">await</span> FileManager.readLogFile();<br><br>    <span class="hljs-keyword">if</span> (data != <span class="hljs-keyword">null</span>)&#123;<br>      <span class="hljs-keyword">await</span> _updateNotificationText(data);<br>    &#125;<br><br>    setState(()&#123;<br>      logStr = log;<br>    &#125;);<br>  &#125;<br><br>  Future&lt;<span class="hljs-keyword">void</span>&gt; _updateNotificationText(<span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt; data) <span class="hljs-keyword">async</span> &#123;<br>    <span class="hljs-keyword">await</span> BackgroundLocator.updateNotificationText(<br>        title: <span class="hljs-string">&quot;new location received&quot;</span>,<br>        msg: <span class="hljs-string">&quot;<span class="hljs-subst">$&#123;DateTime.now()&#125;</span>&quot;</span>,<br>        bigMsg: <span class="hljs-string">&quot;<span class="hljs-subst">$&#123;data[<span class="hljs-string">&#x27;latitude&#x27;</span>]&#125;</span>, <span class="hljs-subst">$&#123;data[<span class="hljs-string">&#x27;longitude&#x27;</span>]&#125;</span>&quot;</span><br>    );<br>  &#125;<br><br>  Future&lt;<span class="hljs-keyword">void</span>&gt; initPlatformState() <span class="hljs-keyword">async</span> &#123;<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Initializing...&#x27;</span>);<br>    <span class="hljs-keyword">await</span> BackgroundLocator.initialize();<br>    logStr = <span class="hljs-keyword">await</span> FileManager.readLogFile();<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Initialization done&#x27;</span>);<br>    <span class="hljs-keyword">final</span> _isRunning = <span class="hljs-keyword">await</span> BackgroundLocator.isServiceRunning();<br>    setState(() &#123;<br>      isRunning = _isRunning;<br>    &#125;);<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Running <span class="hljs-subst">$&#123;isRunning.toString()&#125;</span>&#x27;</span>);<br>  &#125;<br><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">final</span> start = SizedBox(<br>      width: <span class="hljs-built_in">double</span>.maxFinite,<br>      child: ElevatedButton(<br>        child: Text(<span class="hljs-string">&#x27;Start&#x27;</span>),<br>        onPressed: () &#123;<br>          _onStart();<br>        &#125;,<br>      ),<br>    );<br>    <span class="hljs-keyword">final</span> stop = SizedBox(<br>      width: <span class="hljs-built_in">double</span>.maxFinite,<br>      child: ElevatedButton(<br>        child: Text(<span class="hljs-string">&#x27;Stop&#x27;</span>),<br>        onPressed: () &#123;<br>          onStop();<br>        &#125;,<br>      ),<br>    );<br>    <span class="hljs-keyword">final</span> clear = SizedBox(<br>      width: <span class="hljs-built_in">double</span>.maxFinite,<br>      child: ElevatedButton(<br>        child: Text(<span class="hljs-string">&#x27;Clear Log&#x27;</span>),<br>        onPressed: () &#123;<br>          FileManager.clearLogFile();<br>          setState(() &#123;<br>            logStr = <span class="hljs-string">&#x27;&#x27;</span>;<br>          &#125;);<br>        &#125;,<br>      ),<br>    );<br>    <span class="hljs-built_in">String</span> msgStatus = <span class="hljs-string">&quot;-&quot;</span>;<br>    <span class="hljs-keyword">if</span> (isRunning != <span class="hljs-keyword">null</span>) &#123;<br>      <span class="hljs-keyword">if</span> (isRunning) &#123;<br>        msgStatus = <span class="hljs-string">&#x27;Is running&#x27;</span>;<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        msgStatus = <span class="hljs-string">&#x27;Is not running&#x27;</span>;<br>      &#125;<br>    &#125;<br>    <span class="hljs-keyword">final</span> status = Text(<span class="hljs-string">&quot;Status: <span class="hljs-subst">$msgStatus</span>&quot;</span>);<br><br>    <span class="hljs-keyword">final</span> log = Text(<br>      logStr,<br>    );<br><br>    <span class="hljs-keyword">return</span> MaterialApp(<br>      home: Scaffold(<br>        appBar: AppBar(<br>          title: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">&#x27;Flutter background Locator&#x27;</span>),<br>        ),<br>        body: Container(<br>          width: <span class="hljs-built_in">double</span>.maxFinite,<br>          padding: <span class="hljs-keyword">const</span> EdgeInsets.all(<span class="hljs-number">22</span>),<br>          child: SingleChildScrollView(<br>            child: Column(<br>              crossAxisAlignment: CrossAxisAlignment.center,<br>              children: &lt;Widget&gt;[start, stop, clear, status, log],<br>            ),<br>          ),<br>        ),<br>      ),<br>    );<br>  &#125;<br><br>  <span class="hljs-keyword">void</span> onStop() <span class="hljs-keyword">async</span> &#123;<br>    <span class="hljs-keyword">await</span> BackgroundLocator.unRegisterLocationUpdate();<br>    <span class="hljs-keyword">final</span> _isRunning = <span class="hljs-keyword">await</span> BackgroundLocator.isServiceRunning();<br>    setState(() &#123;<br>      isRunning = _isRunning;<br>    &#125;);<br>  &#125;<br><br>  <span class="hljs-keyword">void</span> _onStart() <span class="hljs-keyword">async</span> &#123;<br>    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">await</span> _checkNotificationPermission()) <span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">if</span>(!<span class="hljs-keyword">await</span> _checkLocationPermission()) <span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">await</span> _startLocator();<br>    <span class="hljs-keyword">final</span> _isRunning = <span class="hljs-keyword">await</span> BackgroundLocator.isServiceRunning();<br><br>    setState(() &#123;<br>      isRunning = _isRunning;<br>    &#125;);<br>  &#125;<br><br>  Future&lt;<span class="hljs-built_in">bool</span>&gt; _checkLocationPermission() <span class="hljs-keyword">async</span> &#123;<br>    Permission _permission = Permission.location;<br>    PermissionStatus _status = <span class="hljs-keyword">await</span> _permission.request();<br>    <span class="hljs-keyword">if</span> (_status.isPermanentlyDenied) &#123;<br>      <span class="hljs-keyword">await</span> openAppSettings();<br>    &#125;<br>    <span class="hljs-keyword">return</span> _status.isGranted;<br>  &#125;<br><br>  Future&lt;<span class="hljs-built_in">bool</span>&gt; _checkNotificationPermission() <span class="hljs-keyword">async</span> &#123;<br>    Permission _permission = Permission.notification;<br>    PermissionStatus _status = <span class="hljs-keyword">await</span> _permission.request();<br>    <span class="hljs-keyword">if</span> (_status.isPermanentlyDenied) &#123;<br>      <span class="hljs-keyword">await</span> openAppSettings();<br>    &#125;<br>    <span class="hljs-keyword">return</span> _status.isGranted;<br>  &#125;<br><br>  Future&lt;<span class="hljs-keyword">void</span>&gt; _startLocator() <span class="hljs-keyword">async</span>&#123;<br><br>    <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt; data = &#123;<span class="hljs-string">&#x27;countInit&#x27;</span>: <span class="hljs-number">1</span>&#125;;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> BackgroundLocator.registerLocationUpdate(<br>        LocationCallbackHandler.callback,<br>        initCallback: LocationCallbackHandler.initCallback,<br>        initDataCallback: data,<br>        disposeCallback: LocationCallbackHandler.disposeCallback,<br>        iosSettings: IOSSettings(<br>            accuracy: LocationAccuracy.NAVIGATION,<br>            distanceFilter: <span class="hljs-number">0</span>,<br>            stopWithTerminate: <span class="hljs-keyword">true</span><br>        ),<br>        autoStop: <span class="hljs-keyword">false</span>,<br>        androidSettings: AndroidSettings(<br>            accuracy: LocationAccuracy.NAVIGATION,<br>            interval: <span class="hljs-number">1</span>,<br>            distanceFilter: <span class="hljs-number">0</span>,<br>            client: LocationClient.google,<br>            androidNotificationSettings: AndroidNotificationSettings(<br>                notificationChannelName: <span class="hljs-string">&#x27;Location tracking&#x27;</span>,<br>                notificationTitle: <span class="hljs-string">&#x27;Start Location Tracking&#x27;</span>,<br>                notificationMsg: <span class="hljs-string">&#x27;Track location in background&#x27;</span>,<br>                notificationBigMsg:<br>                <span class="hljs-string">&#x27;Background location is on to keep the app up-tp-date with your location. This is required for main features to work properly when the app is not running.&#x27;</span>,<br>                notificationIcon: <span class="hljs-string">&#x27;&#x27;</span>,<br>                notificationIconColor: Colors.grey,<br>                notificationTapCallback:<br>                LocationCallbackHandler.notificationCallback)<br>        )<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>在 AndroidMaifest.xml 裡面要加上：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.permission.POST_NOTIFICATIONS&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.permission.ACCESS_FINE_LOCATION&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.permission.WAKE_LOCK&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.permission.FOREGROUND_SERVICE&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure><!-- ### Demo[![](https://markdown-videos-api.jorgenkh.no/youtube/euh3HlNAERs)](https://youtu.be/euh3HlNAERs) -->]]></content>
    
    
    <categories>
      
      <category>Flutter</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Flutter</tag>
      
      <tag>App</tag>
      
      <tag>ECHO</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Recursion</title>
    <link href="/notes/2023/09/13/recursion/"/>
    <url>/notes/2023/09/13/recursion/</url>
    
    <content type="html"><![CDATA[<h2 id="Substitution-Method"><a href="#Substitution-Method" class="headerlink" title="Substitution Method"></a>Substitution Method</h2><h4 id="1-T-n-2T-lfloor-n-2-rfloor-n-T-1-1"><a href="#1-T-n-2T-lfloor-n-2-rfloor-n-T-1-1" class="headerlink" title="1. $ T(n) &#x3D; 2T(\lfloor n&#x2F;2 \rfloor) + n$, $ T(1) &#x3D; 1$"></a>1. $ T(n) &#x3D; 2T(\lfloor n&#x2F;2 \rfloor) + n$, $ T(1) &#x3D; 1$</h4><ul><li>Guess $ T(n) &#x3D; O(n lgn)$</li><li>Show it by <strong>induction</strong><ul><li>for $ n &#x3D; 2$, $ T(2) &#x3D; 4$</li><li>for $ c &#x3D; 2$, $ T(2) \le c n lgn$</li></ul></li><li>Base case: $ n_0 &#x3D; 2$ hold</li><li>Induction case<ul><li>Assume the guess is true for all $ n &#x3D; 2, 3, …, k$</li><li>For $ n &#x3D; k + 1$, we have<br>$$\begin{align}<br>T(n) &amp;&#x3D; 2T(\lfloor n&#x2F;2 \rfloor) + n \newline<br>&amp;\le 2c\lfloor n&#x2F;2 \rfloor lg \lfloor n&#x2F;2 \rfloor + n \newline<br>&amp;\le c n lg n&#x2F;2 + n &#x3D; c n lgn - c n + n \newline<br>&amp;\le c n lg n<br>\end{align} $$</li></ul></li></ul><h4 id="2-T-n-T-lfloor-n-2-rfloor-T-lceil-n-2-rceil-1-T-1-1"><a href="#2-T-n-T-lfloor-n-2-rfloor-T-lceil-n-2-rceil-1-T-1-1" class="headerlink" title="2. $ T(n) &#x3D; T(\lfloor n&#x2F;2 \rfloor) + T(\lceil n&#x2F;2 \rceil) + 1$, $ T(1) &#x3D; 1$"></a>2. $ T(n) &#x3D; T(\lfloor n&#x2F;2 \rfloor) + T(\lceil n&#x2F;2 \rceil) + 1$, $ T(1) &#x3D; 1$</h4><ul><li>可以發現當 $  n &#x3D; 16 $ 時<br>$$<br> \begin{align}<br>   T(16) &amp;&#x3D; 2T(8) + 1 \newline<br>   &amp;&#x3D; 4T(4) + 2 + 1 \newline<br>   &amp;&#x3D; 8T(2) + 4 + 2 + 1 \newline<br>   &amp;&#x3D; 16T(1) + 8 + 4 + 2 + 1<br> \end{align}<br>$$<ul><li>當 n 夠大時， $ T(1)$ 項可以被省略，所以可以猜 $ T(n) &#x3D; O(n)$</li></ul></li><li>Base case: for $ c &#x3D; 1$, $ T(1) &#x3D; 1 \le cn &#x3D; 1$</li><li>Inductive case:<br>$$<br> \begin{align}<br>   T(n) &amp;&#x3D; T(\lfloor n&#x2F;2 \rfloor) + T(\lceil n&#x2F;2 \rceil) + 1 \newline<br>   &amp;&#x3D; cn + 1 \newline<br>   &amp;\not\le cn<br> \end{align}<br>$$</li><li>Solution:  prove a <strong>stronger</strong> statement<ul><li>$ T(n) \le cn - b$</li></ul></li><li>Base case: for $ c &#x3D; 2, ; b &#x3D; 1$, $ T(2) &#x3D; 3 \le cn - b &#x3D; 3$</li><li>Improved Inductive case:<br>$$<br> \begin{align}<br>   T(n) &amp;&#x3D; T(\lfloor n&#x2F;2 \rfloor) + T(\lceil n&#x2F;2 \rceil) + 1 \newline<br>   &amp;&#x3D; c\lfloor n&#x2F;2 \rfloor - b + c \lceil n&#x2F;2 \rceil - b + 1 \newline<br>   &amp;&#x3D; cn - b \newline<br>   &amp;\le cn ,\quad (b \ge 1)<br> \end{align}<br>$$</li></ul><h4 id="3-T-n-2T-sqrt-n-lgn"><a href="#3-T-n-2T-sqrt-n-lgn" class="headerlink" title="3. $ T(n) &#x3D; 2T(\sqrt{n}) + lgn$"></a>3. $ T(n) &#x3D; 2T(\sqrt{n}) + lgn$</h4><ul><li>Set $ m &#x3D; lgn$, we get $ T(2^m) &#x3D; 2T(2^{m&#x2F;2}) + m$</li><li>Rename $ S(m) &#x3D; T(2^m) &#x3D; T(n)$, $ S(m) &#x3D; 2S(m&#x2F;2) + m$</li><li>We solve $ S(m) &#x3D; O(mlgm)$, $ T(n) &#x3D; O(lgn \cdot lg(lgn))$</li></ul><h2 id="Recursion-Tree-Method"><a href="#Recursion-Tree-Method" class="headerlink" title="Recursion Tree Method"></a>Recursion Tree Method</h2><h4 id="1-T-n-2T-n-2-n-2-with-T-1-1"><a href="#1-T-n-2T-n-2-n-2-with-T-1-1" class="headerlink" title="1. $ T(n) &#x3D; 2T(n&#x2F;2) + n^2$, with $ T(1) &#x3D; 1$"></a>1. $ T(n) &#x3D; 2T(n&#x2F;2) + n^2$, with $ T(1) &#x3D; 1$</h4><ul><li>Expanding the terms<br>  $$<br>\begin{align}<br>  T(n) &amp;&#x3D; 2T(n&#x2F;2) + n^2 \newline<br>  &amp;&#x3D; n^2 + n^2&#x2F;2 + 4T(n&#x2F;4) \newline<br>  &amp;&#x3D; n^2 + n^2&#x2F;2 + n^2&#x2F;4 + 8T(n&#x2F;8) \newline<br>  &amp;&#x3D; … \newline<br>  &amp;&#x3D; \sum_{k&#x3D;0}^{lgn - 1} (1&#x2F;2)^k n^2 + 2^{lgn}T(1) \newline<br>  &amp;&#x3D; \Theta(n^2) + \Theta(n) &#x3D; \Theta(n^2) \newline<br>\end{align}<br>  $$</li></ul><h4 id="2-T-n-T-n-3-T-2n-3-n-with-T-1-1"><a href="#2-T-n-T-n-3-T-2n-3-n-with-T-1-1" class="headerlink" title="2. $ T(n) &#x3D; T(n&#x2F;3) + T({2n}&#x2F;3) + n$, with $ T(1) &#x3D; 1$"></a>2. $ T(n) &#x3D; T(n&#x2F;3) + T({2n}&#x2F;3) + n$, with $ T(1) &#x3D; 1$</h4><ul><li>深度是 $ log_{3&#x2F;2}n$，因為右邊項都是原本的 2&#x2F;3</li></ul><h2 id="Master-Method"><a href="#Master-Method" class="headerlink" title="Master Method"></a>Master Method</h2><ul><li>When the <strong>recurrence</strong> is in a special form, we can apply the <strong>Master Theorem</strong> to solve the recurrence immediately</li><li>$ T(n) &#x3D; aT(n&#x2F;b) + f(n)$ with $ a \ge 1$ and $ b &gt; 1$, where $ n&#x2F;b$ is either $ \lfloor n&#x2F;b \rfloor$ or $ \lceil n&#x2F;b \rceil$</li><li>There are three cases</li></ul><h4 id="1-Case-1"><a href="#1-Case-1" class="headerlink" title="1. Case 1"></a>1. Case 1</h4><ul><li>$ f(n) &#x3D; O(n^{log_b^{a} - \epsilon})$ for some constant $ \epsilon &gt; 0$</li><li>這代表的意義是，recursion 通常最後可以分成兩項<ol><li><strong>最後一層的數量</strong>，也就是 Divide</li><li><strong>每一層要做的計算</strong>，也就是 Conquer</li></ol></li><li>比較兩者，Case 1 代表 Divide 的計算量比 Conquer 大，所以可以忽略 Conquer 的時間複雜度</li><li>方程式中的 $ n^{log_b{a}}$ 代表最後一層有幾個 node，也可以看成 $ a^{log_b{n}}$，代表每一層 <strong>會增加 a</strong> 倍的 node，且總共有 $ log_b{n}$層 </li><li>Example<ol><li>$ T(n) &#x3D; 9T(n&#x2F;3) + n$, T(1) &#x3D; 1<ul><li>We have $ a &#x3D; 9, ; b &#x3D; 3, ; f(n) &#x3D; n$</li><li>Since $ n^{log_b{a}} &#x3D; n^{log_3{9}} &#x3D; n^2$, $ f(n) &#x3D; n &#x3D; O(n^{2-\epsilon})$, we have $ T(n) &#x3D; \Theta(n^2)$, where $ \epsilon &#x3D; 1$</li></ul></li><li>$ T(n) &#x3D; 8T(n&#x2F;2) + n^2$, T(1) &#x3D; 1<ul><li>We have $ a &#x3D; 8, b &#x3D; 2 and f(n) &#x3D; \Theta(n^2)$</li><li>Since $ n^{log_b{a}} &#x3D; n^{log_2{8}} &#x3D; n^3$, $ f(n) &#x3D; n^2 &#x3D; O(n^{3-\epsilon})$, we have $ T(n) &#x3D; \Theta(n^3)$, where $ \epsilon &#x3D; 1$</li></ul></li><li>$ T(n) &#x3D; 7T(n&#x2F;2) + n^2$<ul><li>We have $ a &#x3D;7, b &#x3D; 2$, $ n^{log_b{a}} &#x3D; n^{lg 7} \approx n^{2.81}$</li><li>Hence, $ T(n) &#x3D; \Theta({n^{2.81}})$</li></ul></li></ol></li></ul><h4 id="2-Case-2"><a href="#2-Case-2" class="headerlink" title="2. Case 2"></a>2. Case 2</h4><ul><li>Divide 和 Conquer 計算量一樣</li><li>If $ f(n) &#x3D; O(n^{log_b^{a}})$, then $ T(n) &#x3D; \Theta(f(n) lg n)$</li><li>Example<ol><li>$ T(n) &#x3D; T(2n&#x2F;3) + 1$  <ul><li>$ a &#x3D; 1, b &#x3D; 3&#x2F;2, f(n) &#x3D; 1$, and $ n^{log_b{a}} &#x3D; n^{log_{3&#x2F;2}{1}} &#x3D; 1$</li><li>We have $ f(n) &#x3D; \Theta(n^{log_b{a}}) &#x3D; \Theta(1)$</li><li>Thus $ T(n) &#x3D; \Theta(lg n)$</li></ul></li></ol></li></ul><h4 id="3-Case-3"><a href="#3-Case-3" class="headerlink" title="3. Case 3"></a>3. Case 3</h4><ul><li>Conquer 計算量比 Divide 大</li><li>If $ f(n) &#x3D; \Omega(n^{log_b{a} + \epsilon})$ for some constant $ \epsilon &gt; 0$</li><li>And if $ a f(n&#x2F;b \le cf(n))$ for some constant $ c &lt; 1$</li><li>Then $ T(n) &#x3D; \Theta(f(n))$</li><li>Example: $ T(n) &#x3D; 3T(n&#x2F;4) + nlgn$ <ul><li>$ a &#x3D; 3, b &#x3D; 4$, $ f(n) &#x3D; n lg n$, and $ n^{log_4{3}} &#x3D; O(n^{0.793})$</li><li>$ f(n) &#x3D; \Omega(n^{0.793 + \epsilon})$</li><li>$ af(n&#x2F;b) &#x3D; 3f(n&#x2F;4) &#x3D; 3(n&#x2F;4)lg(n&#x2F;4) \le (3&#x2F;4)n lgn &#x3D; cf(n) &#x3D; cf(n)$, for c &#x3D; 3&#x2F;4</li><li>Hence, $ T(n) &#x3D; \Theta(n lg n)$</li></ul></li></ul><h4 id="4-不能用的情況"><a href="#4-不能用的情況" class="headerlink" title="4. 不能用的情況"></a>4. 不能用的情況</h4><ol><li><p>$ f(n)$ is smaller than $ n^{log_b{a}}$ but <strong>not polynomial smaller</strong> </p><ul><li>Example: $ T(n) &#x3D; 2T(n&#x2F;2) + n&#x2F;lgn$<ul><li>$ n^{log_b{a}} &#x3D; n^{log_2{2}} &#x3D; n$, <strong>n&#x2F;lgn</strong> is smaller than <strong>n</strong> but <strong>not polynomial smaller</strong></li><li>Hence you can’t use Master theorem</li></ul></li></ul></li><li><p>$ f(n)$ is larger than $ n^{log_b{a}}$ but <strong>not polynomial larger</strong></p><ul><li>Example: $ T(n) &#x3D; 2T(n&#x2F;2) + nlgn$<ul><li>$ n^{log_b{a}} &#x3D; n^{log_2{2}} &#x3D; n$, <strong>n&#x2F;lgn</strong> is larger than <strong>n</strong> but <strong>not polynomial larger</strong></li><li>Hence you can’t use Master theorem</li></ul></li></ul></li></ol>]]></content>
    
    
    <categories>
      
      <category>Algorithm</category>
      
      <category>Recursion</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Recursion</tag>
      
      <tag>Algorithm</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Simple Discord Music Bot</title>
    <link href="/notes/2023/09/08/simple-discord-music-bot/"/>
    <url>/notes/2023/09/08/simple-discord-music-bot/</url>
    
    <content type="html"><![CDATA[<blockquote><p>一個可以撥放 Youtube playlist 的 Discord 音樂機器人<br>Source code: <a href="https://github.com/933yee/discord-simple-music-bot">https://github.com/933yee/discord-simple-music-bot</a></p></blockquote><h2 id="Structure"><a href="#Structure" class="headerlink" title="Structure"></a>Structure</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs stylus">project<br>  └── bot<br>       ├── bot<span class="hljs-selector-class">.py</span><br>       ├── config<span class="hljs-selector-class">.py</span><br>       └── data<br>            └── data<span class="hljs-selector-class">.py</span><br>       └── cogs<br>            ├── commands<span class="hljs-selector-class">.py</span><br>            └── events<span class="hljs-selector-class">.py</span><br>  └── .env<br></code></pre></td></tr></table></figure><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><h3 id="main-py"><a href="#main-py" class="headerlink" title="main.py"></a>main.py</h3><ul><li>可以藉由更改<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs py">bot = commands.Bot(command_prefix=<span class="hljs-string">&quot;!&quot;</span>, intents=intents)<br></code></pre></td></tr></table></figure>改變指令的前綴符號</li></ul><h3 id="config-py"><a href="#config-py" class="headerlink" title="config.py"></a>config.py</h3><ul><li>讀取儲存在 .env 檔案裡面 discord 機器人的 Token</li></ul><h3 id="data-py"><a href="#data-py" class="headerlink" title="data.py"></a>data.py</h3><ul><li>全域變數，提供給 events.py、commands.py 做處理，還會記哪些伺服器正在使用這個機器人<ul><li>server_data<ul><li>記錄某伺服器待播的歌曲清單</li></ul></li><li>server_loop<ul><li>記錄某伺服器是否正在循環撥放</li></ul></li></ul></li></ul><h3 id="events-py"><a href="#events-py" class="headerlink" title="events.py"></a>events.py</h3><ul><li>處理事件的地方，像是偵測機器人的開啟、語音頻道的變化（有人離開、加入）等事件。</li></ul><h3 id="commands-py"><a href="#commands-py" class="headerlink" title="commands.py"></a>commands.py</h3><ul><li>新增指令的地方，像是：<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-meta">@commands.command(<span class="hljs-params">description=<span class="hljs-string">&quot;Exit voice channel\n&quot;</span> <span class="hljs-string">&quot; &quot;</span></span>)</span><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">exit</span>(<span class="hljs-params">self, ctx</span>):<br>    <span class="hljs-keyword">if</span> ctx.guild.<span class="hljs-built_in">id</span> <span class="hljs-keyword">in</span> server_data:<br>        <span class="hljs-keyword">await</span> ctx.voice_client.disconnect()<br>        <span class="hljs-keyword">del</span> server_data[ctx.guild.<span class="hljs-built_in">id</span>]<br>        <span class="hljs-keyword">del</span> server_loop[ctx.guild.<span class="hljs-built_in">id</span>]<br></code></pre></td></tr></table></figure><ul><li>description 是提供給 !help 指令做介紹，簡述指令的功能</li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>Side projects</category>
      
      <category>Discord Bot</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Side Projects</tag>
      
      <tag>Discord</tag>
      
      <tag>Bot</tag>
      
      <tag>Backend</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>學貸申請步驟</title>
    <link href="/notes/2023/09/06/nthu-loan/"/>
    <url>/notes/2023/09/06/nthu-loan/</url>
    
    <content type="html"><![CDATA[<p>到 <strong><a href="https://www.ccxp.nthu.edu.tw/ccxp/INQUIRE">校務資訊系統</a>&#x2F; 繳費單相關作業(出納組)&#x2F; 繳費單列印&#x2F; 學雜費</strong>，看學費多少，扣掉<strong>不可貸款項目</strong> (體育設施使用費)</p><h4 id="就學貸款申請表"><a href="#就學貸款申請表" class="headerlink" title="就學貸款申請表"></a>就學貸款申請表</h4><ul><li>到校務資訊系統&#x2F; 就學貸款&#x2F;就學貸款申請&#x2F;填寫就學貸款申請表，列印簽名，填好會給<strong>不可貸款項目繳費單</strong></li></ul><h4 id="臺灣銀行撥款通知書第-2-聯"><a href="#臺灣銀行撥款通知書第-2-聯" class="headerlink" title="臺灣銀行撥款通知書第 2 聯"></a>臺灣銀行撥款通知書第 2 聯</h4><ul><li>到 <strong><a href="https://sloan.bot.com.tw/customer/login/SLoanLogin.action">臺灣銀行就學貸款入口網</a></strong> 填寫申請書，填好選擇簡訊 OTP 認證對保</li></ul><h4 id="不可貸款項目繳費證明"><a href="#不可貸款項目繳費證明" class="headerlink" title="不可貸款項目繳費證明"></a>不可貸款項目繳費證明</h4>]]></content>
    
    
    <categories>
      
      <category>Others</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Others</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Time Complexity</title>
    <link href="/notes/2023/01/17/time-complexity/"/>
    <url>/notes/2023/01/17/time-complexity/</url>
    
    <content type="html"><![CDATA[<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*5ZLci3SuR0zM_QlZOADv8Q.jpeg" alt="Big-O Complexity Chart"></p><h2 id="Big-O-O"><a href="#Big-O-O" class="headerlink" title="Big-O ($O$)"></a><strong>Big-O ($O$)</strong></h2><h3 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a><strong>Definition</strong></h3><ul><li>f(n) &#x3D; $O$(g(n)) iff $\exists$ <span style="color:yellow">  c, n<sub>0</sub> &gt; 0 </span> such that<span style="color:yellow"> f(n)$\le$ c $\cdot$ g(n) </span> $\forall$ <span style="color:yellow"> n $\ge$ n<sub>0</sub> </span></li></ul><h3 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a><strong>Examples</strong></h3><ul><li><dl><dt>3n+2 &#x3D; $O$(n)</dt><dd>When c&#x3D;4, n<sub>0</sub> &#x3D; 2, 3n+2 $\le$ 4n for all n $\ge$ 2.</dd></dl></li><li><dl><dt>100n+6 &#x3D; $O$(n)</dt><dd>When c&#x3D;101, n<sub>0</sub> &#x3D; 6, 100n+6 $\le$ 101n for all n $\ge$ 6. </dd></dl></li><li><dl><dt>10n<sup>2</sup>+4n+2 &#x3D; $O$(n<sup>2</sup>)</dt><dd>When c&#x3D;11, n<sub>0</sub> &#x3D; 5, 10n<sup>2</sup>+4n+2 $\le$ 11n<sup>2</sup> for all n $\ge$ 5. </dd></dl></li><li><h3 id="Properties"><a href="#Properties" class="headerlink" title="Properties"></a><strong>Properties</strong></h3><ul><li>f(n) &#x3D; $O$(g(n)) states that $O$(g(n)) is an <span style="color:yellow"> upper bound </span> of f(n), so n &#x3D; $O$(n) &#x3D; $O$(n<sup>2.5</sup>) &#x3D; $O$(n<sup>3</sup>) &#x3D; $O$(n<sup>n</sup>). However, we want g(n) <span style="color:yellow"> as small as possible </span>.</li><li>Big-O refers to <span style="color:yellow"> worst-case running time </span> of a program.</li></ul></li></ul><h2 id="Big-Omega-Omega"><a href="#Big-Omega-Omega" class="headerlink" title="Big-Omega($\Omega$)"></a><strong>Big-Omega($\Omega$)</strong></h2><h3 id="Definition-1"><a href="#Definition-1" class="headerlink" title="Definition"></a><strong>Definition</strong></h3><ul><li>f(n) &#x3D; $\Omega$(g(n)) iff $\exists$ <span style="color:yellow">  c, n<sub>0</sub> &gt; 0 </span> such that <span style="color:yellow">f(n)$\ge$ c $\cdot$ g(n) </span> $\forall$ <span style="color:yellow"> n  $\ge$ n<sub>0</sub> </span>.</li></ul><h3 id="Examples-1"><a href="#Examples-1" class="headerlink" title="Examples"></a><strong>Examples</strong></h3><ul><li><dl><dt>3n+2 &#x3D; $\Omega$(n)</dt><dd>When c&#x3D;3, n<sub>0</sub> &#x3D; 1, 3n+2 $\ge$ 3n $\forall$ n $\ge$ 1.</dd></dl></li><li><dl><dt>100n+6 &#x3D; $\Omega$(n)</dt><dd>When c&#x3D;100, n<sub>0</sub> &#x3D; 1, 100n+6 $\ge$ 100n $\forall$ n $\ge$ 1.  </dd></dl></li><li><dl><dt>10n<sup>2</sup>+4n+2 &#x3D; $\Omega$(n<sup>2</sup>)</dt><dd>When c&#x3D;1, n<sub>0</sub> &#x3D; 1, 10n<sup>2</sup>+4n+2 $\ge$ n<sup>2</sup> $\forall$ n $\ge$ 1.</dd></dl></li></ul><h3 id="Properties-1"><a href="#Properties-1" class="headerlink" title="Properties"></a><strong>Properties</strong></h3><ul><li>f(n) &#x3D; $\Omega$(g(n)) states that $\Omega$(g(n)) is a <span style="color:yellow"> lower bound </span> of f(n).</li><li>$\Omega$ refers to <span style="color:yellow"> best-case running time </span> of a program.</li></ul><h2 id="Big-Theta-theta"><a href="#Big-Theta-theta" class="headerlink" title="Big-Theta($\theta$)"></a><strong>Big-Theta($\theta$)</strong></h2><h3 id="Definition-2"><a href="#Definition-2" class="headerlink" title="Definition"></a><strong>Definition</strong></h3><ul><li>f(n) &#x3D; $\theta$(g(n)) iff <span style="color:yellow"> f(n) &#x3D; $O$(g(n)) </span> and <span style="color:yellow"> f(n) &#x3D; $\Omega$(g(n))</span>.</li></ul><h3 id="Examples-2"><a href="#Examples-2" class="headerlink" title="Examples"></a><strong>Examples</strong></h3><ul><li>3n+2 &#x3D; $\theta$(n)</li><li>100n+6 &#x3D; $\theta$(n)</li><li>10n<sup>2</sup>+4n+2 &#x3D; $\theta$(n<sup>2</sup>)</li></ul><h3 id="Properties-2"><a href="#Properties-2" class="headerlink" title="Properties"></a><strong>Properties</strong></h3><ul><li>f(n) &#x3D; $\theta$(g(n)) states that $\theta$(g(n)) is a <span style="color:yellow"> tight bound </span> of f(n).</li><li>$\theta$ refers to <span style="color:yellow"> average-case running time </span >of a program.</li></ul><h2 id="Cheat-Sheets"><a href="#Cheat-Sheets" class="headerlink" title="Cheat Sheets"></a><strong>Cheat Sheets</strong></h2><p><img src="https://pic4.zhimg.com/80/v2-bea9f0ddbc2d810e9feba3f3cc8b2b7f_720w.webp" alt="Data Structure Operations"><br><img src="https://pic4.zhimg.com/80/v2-c9074ce39abbdebd1120451bf657e67f_720w.webp" alt="Array Sorting"></p><h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul><li><a href="https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=&ved=2ahUKEwjr647gjoiEAxX2hq8BHQilDfMQFnoECBEQAQ&url=https://www.bigocheatsheet.com/&usg=AOvVaw0j8XV1sZ0vh9PgRFBYyAHO&opi=89978449">Big-O Algorithm Complexity Cheat Sheet</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Algorithm</category>
      
      <category>Time Complexity</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>Time Complexity</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
